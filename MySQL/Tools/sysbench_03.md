# SYSBENCH_MYSQL

``` shell

# ls -Rlh /usr/local/share/sysbench/
/usr/local/share/sysbench/:
总用量 64K
-rwxr-xr-x 1 root root 1.5K 5月  16 17:49 bulk_insert.lua
-rw-r--r-- 1 root root  15K 5月  16 17:49 oltp_common.lua
-rwxr-xr-x 1 root root 1.3K 5月  16 17:49 oltp_delete.lua
-rwxr-xr-x 1 root root 2.4K 5月  16 17:49 oltp_insert.lua
-rwxr-xr-x 1 root root 1.3K 5月  16 17:49 oltp_point_select.lua
-rwxr-xr-x 1 root root 1.7K 5月  16 17:49 oltp_read_only.lua
-rwxr-xr-x 1 root root 1.9K 5月  16 17:49 oltp_read_write.lua
-rwxr-xr-x 1 root root 1.2K 5月  16 17:49 oltp_update_index.lua
-rwxr-xr-x 1 root root 1.2K 5月  16 17:49 oltp_update_non_index.lua
-rwxr-xr-x 1 root root 1.5K 5月  16 17:49 oltp_write_only.lua
-rwxr-xr-x 1 root root 2.0K 5月  16 17:49 select_random_points.lua
-rwxr-xr-x 1 root root 2.2K 5月  16 17:49 select_random_ranges.lua
drwxr-xr-x 4 root root 4.0K 5月  16 17:49 tests

# sysbench /usr/local/share/sysbench/oltp_read_write.lua --mysql-host=<IP> --mysql-port=<PORT> --mysql-user=<USERNAME> --mysql-password=<PASSWORD> --mysql-db='sysbench' --warmup-time=600 --time=3600 --events=0 --threads=16 --tables=16 --table_size=10000000 --mysql_storage_engine='innodb' --rate=0 --histogram=on --percentile=99 --report-interval=10 prepare / run / cleanup
```
```shell
# R4.XLARGE:

[ 3510s ] thds: 16 tps: 553.50 qps: 11069.96 (r/w/o: 7748.97/2213.99/1107.00) lat (ms,99%): 69.29 err/s: 0.00 reconn/s: 0.00
[ 3520s ] thds: 16 tps: 554.80 qps: 11096.04 (r/w/o: 7767.23/2219.21/1109.60) lat (ms,99%): 71.83 err/s: 0.00 reconn/s: 0.00
[ 3530s ] thds: 16 tps: 578.70 qps: 11574.00 (r/w/o: 8101.80/2314.80/1157.40) lat (ms,99%): 66.84 err/s: 0.00 reconn/s: 0.00
[ 3540s ] thds: 16 tps: 583.20 qps: 11664.00 (r/w/o: 8164.80/2332.80/1166.40) lat (ms,99%): 63.32 err/s: 0.00 reconn/s: 0.00
[ 3550s ] thds: 16 tps: 603.90 qps: 12073.11 (r/w/o: 8451.34/2413.98/1207.79) lat (ms,99%): 70.55 err/s: 0.00 reconn/s: 0.00
[ 3560s ] thds: 16 tps: 603.10 qps: 12066.88 (r/w/o: 8446.66/2414.02/1206.21) lat (ms,99%): 66.84 err/s: 0.00 reconn/s: 0.00
[ 3570s ] thds: 16 tps: 615.89 qps: 12312.77 (r/w/o: 8619.61/2461.37/1231.79) lat (ms,99%): 68.05 err/s: 0.00 reconn/s: 0.00
[ 3580s ] thds: 16 tps: 637.11 qps: 12744.01 (r/w/o: 8920.38/2549.42/1274.21) lat (ms,99%): 69.29 err/s: 0.00 reconn/s: 0.00
[ 3590s ] thds: 16 tps: 626.50 qps: 12531.58 (r/w/o: 8772.38/2506.20/1253.00) lat (ms,99%): 70.55 err/s: 0.00 reconn/s: 0.00
[ 3600s ] thds: 16 tps: 650.90 qps: 13013.28 (r/w/o: 9109.29/2602.20/1301.80) lat (ms,99%): 68.05 err/s: 0.00 reconn/s: 0.00

Latency histogram (values are in milliseconds)
       value  ------------- distribution ------------- count
       7.430 |                                         1
       7.702 |                                         7
       7.842 |                                         21
       7.985 |                                         23
       8.130 |                                         66
       8.277 |                                         116
       8.428 |                                         231
       8.581 |                                         413
       8.737 |                                         772
       8.895 |                                         1312
       9.057 |                                         2277
       9.222 |*                                        3841
       9.389 |*                                        6287
       9.560 |**                                       9680
       9.734 |**                                       14242
       9.910 |****                                     20543
      10.090 |*****                                    28600
      10.274 |*******                                  38125
      10.460 |*********                                50034
      10.651 |***********                              63288
      10.844 |**************                           78582
      11.041 |*****************                        97166
      11.242 |********************                     116471
      11.446 |************************                 139150
      11.654 |*****************************            163329
      11.866 |*********************************        186653
      12.081 |************************************     206367
      12.301 |**************************************   219646
      12.524 |**************************************** 226685
      12.752 |**************************************** 228849
      12.984 |***************************************  224770
      13.219 |**************************************   218066
      13.460 |************************************     207293
      13.704 |*********************************        190023
      13.953 |******************************           172990
      14.207 |**************************               150255
      14.465 |***********************                  130244
      14.728 |*******************                      111330
      14.995 |*****************                        96462
      15.268 |***************                          85097
      15.545 |*************                            74635
      15.828 |************                             65923
      16.115 |**********                               59126
      16.408 |*********                                53590
      16.706 |********                                 48213
      17.010 |********                                 44429
      17.319 |*******                                  41606
      17.633 |*******                                  37953
      17.954 |******                                   34579
      18.280 |*****                                    30834
      18.612 |*****                                    27118
      18.950 |****                                     23138
      19.295 |***                                      19986
      19.645 |***                                      16513
      20.002 |**                                       14033
      20.366 |**                                       11864
      20.736 |**                                       9454
      21.112 |*                                        7676
      21.496 |*                                        6120
      21.886 |*                                        5074
      22.284 |*                                        4083
      22.689 |*                                        3212
      23.101 |                                         2521
      23.521 |                                         1981
      23.948 |                                         1764
      24.384 |                                         1400
      24.827 |                                         1283
      25.278 |                                         1043
      25.737 |                                         830
      26.205 |                                         871
      26.681 |                                         713
      27.165 |                                         568
      27.659 |                                         492
      28.162 |                                         564
      28.673 |                                         527
      29.194 |                                         550
      29.725 |                                         397
      30.265 |                                         363
      30.815 |                                         399
      31.375 |                                         394
      31.945 |                                         270
      32.525 |                                         453
      33.116 |                                         412
      33.718 |                                         380
      34.330 |                                         396
      34.954 |                                         376
      35.589 |                                         365
      36.236 |                                         482
      36.894 |                                         388
      37.565 |                                         526
      38.247 |                                         568
      38.942 |                                         607
      39.650 |                                         695
      40.370 |                                         761
      41.104 |                                         664
      41.851 |                                         692
      42.611 |                                         779
      43.385 |                                         635
      44.173 |                                         792
      44.976 |                                         833
      45.793 |                                         814
      46.625 |                                         1006
      47.472 |                                         894
      48.335 |                                         937
      49.213 |                                         1025
      50.107 |                                         953
      51.018 |                                         1232
      51.945 |                                         1073
      52.889 |                                         985
      53.850 |                                         941
      54.828 |                                         941
      55.824 |                                         892
      56.839 |                                         948
      57.871 |                                         856
      58.923 |                                         779
      59.993 |                                         807
      61.083 |                                         752
      62.193 |                                         731
      63.323 |                                         592
      64.474 |                                         578
      65.645 |                                         497
      66.838 |                                         489
      68.053 |                                         423
      69.289 |                                         383
      70.548 |                                         363
      71.830 |                                         287
      73.135 |                                         204
      74.464 |                                         186
      75.817 |                                         147
      77.194 |                                         131
      78.597 |                                         67
      80.025 |                                         67
      81.479 |                                         57
      82.959 |                                         90
      84.467 |                                         25
      86.002 |                                         44
      87.564 |                                         24
      89.155 |                                         30
      90.775 |                                         8
      92.424 |                                         27
      94.104 |                                         11
      95.814 |                                         7
      97.555 |                                         22
      99.327 |                                         18
     101.132 |                                         20
     102.969 |                                         6
     104.840 |                                         4
     106.745 |                                         5
     108.685 |                                         10
     110.659 |                                         6
     112.670 |                                         11
     114.717 |                                         15
     116.802 |                                         23
     118.924 |                                         17
     121.085 |                                         11
     123.285 |                                         10
     125.525 |                                         9
     127.805 |                                         11
     130.128 |                                         7
     134.899 |                                         8
     137.350 |                                         15
     139.846 |                                         18
     142.387 |                                         13
     144.974 |                                         10
     153.021 |                                         2
     155.801 |                                         19
     158.632 |                                         11
     215.443 |                                         9
     219.358 |                                         11
     223.344 |                                         2
     419.448 |                                         7
     427.069 |                                         9
     475.794 |                                         1

SQL statistics:
    queries performed:
        read:                            58489620
        write:                           16711323
        other:                           8355674
        total:                           83556617
    transactions:                        4177844 (1160.51 per sec.)
    queries:                             83556617 (23210.07 per sec.)
    ignored errors:                      2      (0.00 per sec.)
    reconnects:                          0      (0.00 per sec.)

Throughput:
    events/s (eps):                      1160.5074
    time elapsed:                        3600.0153s
    total number of events:              4177844

Latency (ms):
         min:                                    7.43
         avg:                                   13.79
         max:                                  475.64
         99th percentile:                       24.38
         sum:                             57595063.30

Threads fairness:
    events (avg/stddev):           261115.1250/4722.67
    execution time (avg/stddev):   3599.6915/0.01

# R5.XLARGE:


```